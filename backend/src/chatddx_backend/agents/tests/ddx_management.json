{
  "$defs": {
    "DDXDiagnose": {
      "properties": {
        "diagnosis": {
          "description": "The formal medical name of the condition.",
          "title": "Diagnosis",
          "type": "string"
        },
        "clinical_rationale": {
          "description": "The specific findings from the patient's history or exam that support this diagnosis.",
          "title": "Clinical Rationale",
          "type": "string"
        },
        "key_negatives": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Absence of specific findings that might argue against this diagnosis (eg. 'No fever' makes pneumonia less likely).",
          "title": "Key Negatives"
        },
        "urgency": {
          "$ref": "#/$defs/UrgencyLevel"
        },
        "likelyhood": {
          "$ref": "#/$defs/Likelyhood"
        }
      },
      "required": [
        "diagnosis",
        "clinical_rationale",
        "urgency",
        "likelyhood"
      ],
      "title": "DDXDiagnose",
      "type": "object"
    },
    "DDXWorkup": {
      "properties": {
        "test_name": {
          "description": "(eg. 'CBC/CRP', 'Chest X-ray', 'Point-of-care Ultrasound').",
          "title": "Test Name",
          "type": "string"
        },
        "priority": {
          "$ref": "#/$defs/WorkupPriority"
        }
      },
      "required": [
        "test_name",
        "priority"
      ],
      "title": "DDXWorkup",
      "type": "object"
    },
    "Likelyhood": {
      "enum": [
        "High",
        "Moderate",
        "Low",
        "Remote"
      ],
      "title": "Likelyhood",
      "type": "string"
    },
    "UrgencyLevel": {
      "enum": [
        "Immediate Life Threat",
        "Emergent",
        "Urgent",
        "Stable",
        "Routine"
      ],
      "title": "UrgencyLevel",
      "type": "string"
    },
    "WorkupPriority": {
      "enum": [
        "STAT",
        "Expedited",
        "Routine"
      ],
      "title": "WorkupPriority",
      "type": "string"
    }
  },
  "properties": {
    "possible_diagnoses": {
      "description": "Prioritized differential diagnoses.",
      "items": {
        "$ref": "#/$defs/DDXDiagnose"
      },
      "title": "Possible Diagnoses",
      "type": "array"
    },
    "workup": {
      "description": "Diagnostic steps",
      "items": {
        "$ref": "#/$defs/DDXWorkup"
      },
      "title": "Workup",
      "type": "array"
    },
    "warnings": {
      "description": "Red Flags or life-threatening findings (eg. 'Hemodynamic instability', 'Signs of peritonitis').",
      "items": {
        "type": "string"
      },
      "title": "Warnings",
      "type": "array"
    },
    "empiric_therapy": {
      "description": "Interventions to be started concurrently (eg. 'IV Fluids 1L', 'Broad-spectrum antibiotics', 'Oxygen 2L/min').",
      "items": {
        "type": "string"
      },
      "title": "Empiric Therapy",
      "type": "array"
    },
    "disposition": {
      "description": "Primary destination and contingency plans (eg. 'Admit to Cardiology', 'Consult Cardiothoracic Surgery').",
      "items": {
        "type": "string"
      },
      "title": "Disposition",
      "type": "array"
    }
  },
  "required": [
    "possible_diagnoses",
    "workup",
    "warnings",
    "empiric_therapy",
    "disposition"
  ],
  "title": "DDXManagement",
  "type": "object"
}
